<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Exemplo Busca de Imagem</title>
</head>
<body>
  <input id="filename" type="text" placeholder="Nome do arquivo (ex: exemplo.jpg)">
  <button id="btn">Buscar Imagem</button>
  <div id="result"></div>

<script>
  document.getElementById('btn').addEventListener('click', function() {
    const name = document.getElementById('filename').value;
    fetch('http://127.0.0.1:5000/images?nome=' + encodeURIComponent(name))
      .then(response => response.json())
      .then(data => {
        if (data.ok) {
          const img = document.createElement('img');
          const ext = name.split('.').pop().toLowerCase();
          img.src = 'data:image/' + (ext === 'jpg' ? 'jpeg' : ext) + ';base64,' + data.data.base64;
          document.getElementById('result').innerHTML = '';
          document.getElementById('result').appendChild(img);
        } else {
          document.getElementById('result').innerText = 'Erro: ' + data.error;
        }
      })
      .catch(err => console.error(err));
  });
</script>
</body>
</html>
